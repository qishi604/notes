# kotlin 笔记

- `object`表达式使用的时候回立即执行及初始化
- `object`声明 第一次访问的时候才初始化
- `companion object` 当依赖的类加载的时候初始化

## 內联函数`inline`

内联函数（有时称作在线函数或编译时期展开函数）是一种编程语言结构，用来建议编译器对一些特殊函数进行内联扩展（有时称作在线扩展）；也就是说建议编译器将指定的函数体插入并取代每一处调用该函数的地方（上下文），从而节省了每次调用函数带来的额外时间开支。但在选择使用内联函数时，必须在程序占用空间和程序执行效率之间进行权衡，因为过多的比较复杂的函数进行内联扩展将带来很大的存储资源开支。另外还需要特别注意的是对递归函数的内联扩展可能引起部分编译器的无穷编译。[维基百科](https://zh.wikipedia.org/wiki/%E5%86%85%E8%81%94%E5%87%BD%E6%95%B0)

简单理解就是编译阶段，用函数体来替换方法，可以节省函数调用带来的额外时间开支

## java generics in Kotlin

- Foo<? extends Bar> becomes Foo<out Bar!>!
- Foo<? super Bar> becomes Foo<in Bar!>!
- List becomes List<*>!, i.e. List<out Any?>!


## 按位操作符

**只适用于`Int`和`Long`**

- 有符号左移 `shl` <<
- 有符号右移 `shr` >>
- 无符号右移 `ushr` >>>
- 与 `and` &
- 或 `or` | 
- 异或 `xor` ^
- 非 `inv` ~